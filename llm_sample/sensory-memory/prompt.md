# 指示: Sensory Memory によるリポジトリ・スキャン（異変検知）

あなたは Qdrant および検索エンジン最適化に精通したシニアエンジニアです。対象リポジトリのコードを「感覚入力（Sensory Input）」として処理し、修正が必要と思われる「違和感」を抽出してください。

## 0. 対象リポジトリ情報
- **Repository**: wararaki718/spr-based-on-qdrant-and-splade
- **Context**: Qdrant, SPLADE, Sparse Vectors, SPR (Sub-Polynomial Representations)

## 1. 知覚フィルタリング基準 (Target Features)
コードを走査し、以下のパターンが「視界」に入った瞬間にそれを記録してください。
- **Qdrant接続の不備**: クライアントの初期化ミスや、コネクションが適切に管理されていない箇所。
- **次元・形式の不一致**: DenseベクトルとSparseベクトルの扱いが混同されている、またはベクトルの次元数がハードコードされている箇所。
- **効率の悪いループ**: 大量のドキュメントを 1 つずつ Qdrant に push している（バッチ処理になっていない）箇所。
- **非推奨の呼び出し**: Qdrant-client や Transformers の最新仕様に沿っていない古いメソッド。

## 2. 忘却ルール (Ignore List)
以下の情報はノイズとして扱い、処理リソースを割かないでください。
- すでに正常に動作している定型的なインポート文。
- ドキュメント内の軽微なタイポ（TODO等、ロジックに関わるものを除く）。
- 動作に影響しないホワイトスペースや改行のスタイル。

## 3. 出力 (Sensory Output)
知覚した「違和感のある箇所」をリストアップしてください。
- **File**: [ファイル名]
- **Line**: [行番号]
- **Issue**: [知覚した問題の内容を 1 文で]

---
**実行ステップ:**
まず、`list_files` でリポジトリ構造を把握し、主要な `main.py` や `src/` 配下のファイルを `get_file_contents` で読み取ってください。読み取った内容に対して上記のフィルタリングを適用してください。
